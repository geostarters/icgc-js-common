(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.ICGCCommon = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){
module.exports=_dereq_("./lib/axios");
},{"./lib/axios":3}],2:[function(_dereq_,module,exports){
(function (process){
"use strict";var utils=_dereq_("./../utils"),settle=_dereq_("./../core/settle"),buildURL=_dereq_("./../helpers/buildURL"),parseHeaders=_dereq_("./../helpers/parseHeaders"),isURLSameOrigin=_dereq_("./../helpers/isURLSameOrigin"),createError=_dereq_("../core/createError"),btoa="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||_dereq_("./../helpers/btoa");module.exports=function(e){return new Promise(function(r,t){var s=e.data,o=e.headers;utils.isFormData(s)&&delete o["Content-Type"];var n=new XMLHttpRequest,i="onreadystatechange",a=!1;if("test"===process.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in n||isURLSameOrigin(e.url)||(n=new window.XDomainRequest,i="onload",a=!0,n.onprogress=function(){},n.ontimeout=function(){}),e.auth){var u=e.auth.username||"",d=e.auth.password||"";o.Authorization="Basic "+btoa(u+":"+d)}if(n.open(e.method.toUpperCase(),buildURL(e.url,e.params,e.paramsSerializer),!0),n.timeout=e.timeout,n[i]=function(){if(n&&(4===n.readyState||a)&&(0!==n.status||n.responseURL&&0===n.responseURL.indexOf("file:"))){var s="getAllResponseHeaders"in n?parseHeaders(n.getAllResponseHeaders()):null,o=e.responseType&&"text"!==e.responseType?n.response:n.responseText,i={data:o,status:1223===n.status?204:n.status,statusText:1223===n.status?"No Content":n.statusText,headers:s,config:e,request:n};settle(r,t,i),n=null}},n.onerror=function(){t(createError("Network Error",e,null,n)),n=null},n.ontimeout=function(){t(createError("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",n)),n=null},utils.isStandardBrowserEnv()){var l=_dereq_("./../helpers/cookies"),p=(e.withCredentials||isURLSameOrigin(e.url))&&e.xsrfCookieName?l.read(e.xsrfCookieName):void 0;p&&(o[e.xsrfHeaderName]=p)}if("setRequestHeader"in n&&utils.forEach(o,function(e,r){void 0===s&&"content-type"===r.toLowerCase()?delete o[r]:n.setRequestHeader(r,e)}),e.withCredentials&&(n.withCredentials=!0),e.responseType)try{n.responseType=e.responseType}catch(r){if("json"!==e.responseType)throw r}"function"==typeof e.onDownloadProgress&&n.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&n.upload&&n.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){n&&(n.abort(),t(e),n=null)}),void 0===s&&(s=null),n.send(s)})};
}).call(this,_dereq_('_process'))

},{"../core/createError":9,"./../core/settle":12,"./../helpers/btoa":16,"./../helpers/buildURL":17,"./../helpers/cookies":19,"./../helpers/isURLSameOrigin":21,"./../helpers/parseHeaders":23,"./../utils":25,"_process":29}],3:[function(_dereq_,module,exports){
"use strict";function createInstance(e){var r=new Axios(e),s=bind(Axios.prototype.request,r);return utils.extend(s,Axios.prototype,r),utils.extend(s,r),s}var utils=_dereq_("./utils"),bind=_dereq_("./helpers/bind"),Axios=_dereq_("./core/Axios"),defaults=_dereq_("./defaults"),axios=createInstance(defaults);axios.Axios=Axios,axios.create=function(e){return createInstance(utils.merge(defaults,e))},axios.Cancel=_dereq_("./cancel/Cancel"),axios.CancelToken=_dereq_("./cancel/CancelToken"),axios.isCancel=_dereq_("./cancel/isCancel"),axios.all=function(e){return Promise.all(e)},axios.spread=_dereq_("./helpers/spread"),module.exports=axios,module.exports.default=axios;
},{"./cancel/Cancel":4,"./cancel/CancelToken":5,"./cancel/isCancel":6,"./core/Axios":7,"./defaults":14,"./helpers/bind":15,"./helpers/spread":24,"./utils":25}],4:[function(_dereq_,module,exports){
"use strict";function Cancel(e){this.message=e}Cancel.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0,module.exports=Cancel;
},{}],5:[function(_dereq_,module,exports){
"use strict";function CancelToken(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(e){n=e});var o=this;e(function(e){o.reason||(o.reason=new Cancel(e),n(o.reason))})}var Cancel=_dereq_("./Cancel");CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CancelToken.source=function(){var e;return{token:new CancelToken(function(n){e=n}),cancel:e}},module.exports=CancelToken;
},{"./Cancel":4}],6:[function(_dereq_,module,exports){
"use strict";module.exports=function(t){return!(!t||!t.__CANCEL__)};
},{}],7:[function(_dereq_,module,exports){
"use strict";function Axios(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}var defaults=_dereq_("./../defaults"),utils=_dereq_("./../utils"),InterceptorManager=_dereq_("./InterceptorManager"),dispatchRequest=_dereq_("./dispatchRequest");Axios.prototype.request=function(e){"string"==typeof e&&(e=utils.merge({url:arguments[0]},arguments[1])),e=utils.merge(defaults,{method:"get"},this.defaults,e),e.method=e.method.toLowerCase();var t=[dispatchRequest,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},utils.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(t,r){return this.request(utils.merge(r||{},{method:e,url:t}))}}),utils.forEach(["post","put","patch"],function(e){Axios.prototype[e]=function(t,r,s){return this.request(utils.merge(s||{},{method:e,url:t,data:r}))}}),module.exports=Axios;
},{"./../defaults":14,"./../utils":25,"./InterceptorManager":8,"./dispatchRequest":10}],8:[function(_dereq_,module,exports){
"use strict";function InterceptorManager(){this.handlers=[]}var utils=_dereq_("./../utils");InterceptorManager.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},InterceptorManager.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},InterceptorManager.prototype.forEach=function(e){utils.forEach(this.handlers,function(t){null!==t&&e(t)})},module.exports=InterceptorManager;
},{"./../utils":25}],9:[function(_dereq_,module,exports){
"use strict";var enhanceError=_dereq_("./enhanceError");module.exports=function(r,e,n,o,a){var c=new Error(r);return enhanceError(c,e,n,o,a)};
},{"./enhanceError":11}],10:[function(_dereq_,module,exports){
"use strict";function throwIfCancellationRequested(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var utils=_dereq_("./../utils"),transformData=_dereq_("./transformData"),isCancel=_dereq_("../cancel/isCancel"),defaults=_dereq_("../defaults"),isAbsoluteURL=_dereq_("./../helpers/isAbsoluteURL"),combineURLs=_dereq_("./../helpers/combineURLs");module.exports=function(e){return throwIfCancellationRequested(e),e.baseURL&&!isAbsoluteURL(e.url)&&(e.url=combineURLs(e.baseURL,e.url)),e.headers=e.headers||{},e.data=transformData(e.data,e.headers,e.transformRequest),e.headers=utils.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),utils.forEach(["delete","get","head","post","put","patch","common"],function(a){delete e.headers[a]}),(e.adapter||defaults.adapter)(e).then(function(a){return throwIfCancellationRequested(e),a.data=transformData(a.data,a.headers,e.transformResponse),a},function(a){return isCancel(a)||(throwIfCancellationRequested(e),a&&a.response&&(a.response.data=transformData(a.response.data,a.response.headers,e.transformResponse))),Promise.reject(a)})};
},{"../cancel/isCancel":6,"../defaults":14,"./../helpers/combineURLs":18,"./../helpers/isAbsoluteURL":20,"./../utils":25,"./transformData":13}],11:[function(_dereq_,module,exports){
"use strict";module.exports=function(e,o,r,s,t){return e.config=o,r&&(e.code=r),e.request=s,e.response=t,e};
},{}],12:[function(_dereq_,module,exports){
"use strict";var createError=_dereq_("./createError");module.exports=function(t,r,e){var s=e.config.validateStatus;e.status&&s&&!s(e.status)?r(createError("Request failed with status code "+e.status,e.config,null,e.request,e)):t(e)};
},{"./createError":9}],13:[function(_dereq_,module,exports){
"use strict";var utils=_dereq_("./../utils");module.exports=function(t,u,r){return utils.forEach(r,function(r){t=r(t,u)}),t};
},{"./../utils":25}],14:[function(_dereq_,module,exports){
(function (process){
"use strict";function setContentTypeIfUnset(e,t){!utils.isUndefined(e)&&utils.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function getDefaultAdapter(){var e;return"undefined"!=typeof XMLHttpRequest?e=_dereq_("./adapters/xhr"):"undefined"!=typeof process&&(e=_dereq_("./adapters/http")),e}var utils=_dereq_("./utils"),normalizeHeaderName=_dereq_("./helpers/normalizeHeaderName"),DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"},defaults={adapter:getDefaultAdapter(),transformRequest:[function(e,t){return normalizeHeaderName(t,"Content-Type"),utils.isFormData(e)||utils.isArrayBuffer(e)||utils.isBuffer(e)||utils.isStream(e)||utils.isFile(e)||utils.isBlob(e)?e:utils.isArrayBufferView(e)?e.buffer:utils.isURLSearchParams(e)?(setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):utils.isObject(e)?(setContentTypeIfUnset(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};defaults.headers={common:{Accept:"application/json, text/plain, */*"}},utils.forEach(["delete","get","head"],function(e){defaults.headers[e]={}}),utils.forEach(["post","put","patch"],function(e){defaults.headers[e]=utils.merge(DEFAULT_CONTENT_TYPE)}),module.exports=defaults;
}).call(this,_dereq_('_process'))

},{"./adapters/http":2,"./adapters/xhr":2,"./helpers/normalizeHeaderName":22,"./utils":25,"_process":29}],15:[function(_dereq_,module,exports){
"use strict";module.exports=function(r,n){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return r.apply(n,t)}};
},{}],16:[function(_dereq_,module,exports){
"use strict";function E(){this.message="String contains an invalid character"}function btoa(r){for(var t,a,o=String(r),e="",n=0,c=chars;o.charAt(0|n)||(c="=",n%1);e+=c.charAt(63&t>>8-n%1*8)){if((a=o.charCodeAt(n+=.75))>255)throw new E;t=t<<8|a}return e}var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";E.prototype=new Error,E.prototype.code=5,E.prototype.name="InvalidCharacterError",module.exports=btoa;
},{}],17:[function(_dereq_,module,exports){
"use strict";function encode(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var utils=_dereq_("./../utils");module.exports=function(e,i,r){if(!i)return e;var t;if(r)t=r(i);else if(utils.isURLSearchParams(i))t=i.toString();else{var n=[];utils.forEach(i,function(e,i){null!==e&&void 0!==e&&(utils.isArray(e)?i+="[]":e=[e],utils.forEach(e,function(e){utils.isDate(e)?e=e.toISOString():utils.isObject(e)&&(e=JSON.stringify(e)),n.push(encode(i)+"="+encode(e))}))}),t=n.join("&")}return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e};
},{"./../utils":25}],18:[function(_dereq_,module,exports){
"use strict";module.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e};
},{}],19:[function(_dereq_,module,exports){
"use strict";var utils=_dereq_("./../utils");module.exports=utils.isStandardBrowserEnv()?function(){return{write:function(e,n,t,i,u,r){var o=[];o.push(e+"="+encodeURIComponent(n)),utils.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),utils.isString(i)&&o.push("path="+i),utils.isString(u)&&o.push("domain="+u),!0===r&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();
},{"./../utils":25}],20:[function(_dereq_,module,exports){
"use strict";module.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)};
},{}],21:[function(_dereq_,module,exports){
"use strict";var utils=_dereq_("./../utils");module.exports=utils.isStandardBrowserEnv()?function(){function t(t){var r=t;return e&&(o.setAttribute("href",r),r=o.href),o.setAttribute("href",r),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var r,e=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return r=t(window.location.href),function(e){var o=utils.isString(e)?t(e):e;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}();
},{"./../utils":25}],22:[function(_dereq_,module,exports){
"use strict";var utils=_dereq_("../utils");module.exports=function(e,t){utils.forEach(e,function(r,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[s])})};
},{"../utils":25}],23:[function(_dereq_,module,exports){
"use strict";var utils=_dereq_("./../utils"),ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];module.exports=function(t){var e,i,r,o={};return t?(utils.forEach(t.split("\n"),function(t){if(r=t.indexOf(":"),e=utils.trim(t.substr(0,r)).toLowerCase(),i=utils.trim(t.substr(r+1)),e){if(o[e]&&ignoreDuplicateOf.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([i]):o[e]?o[e]+", "+i:i}}),o):o};
},{"./../utils":25}],24:[function(_dereq_,module,exports){
"use strict";module.exports=function(n){return function(t){return n.apply(null,t)}};
},{}],25:[function(_dereq_,module,exports){
"use strict";function isArray(r){return"[object Array]"===toString.call(r)}function isArrayBuffer(r){return"[object ArrayBuffer]"===toString.call(r)}function isFormData(r){return"undefined"!=typeof FormData&&r instanceof FormData}function isArrayBufferView(r){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer&&r.buffer instanceof ArrayBuffer}function isString(r){return"string"==typeof r}function isNumber(r){return"number"==typeof r}function isUndefined(r){return void 0===r}function isObject(r){return null!==r&&"object"==typeof r}function isDate(r){return"[object Date]"===toString.call(r)}function isFile(r){return"[object File]"===toString.call(r)}function isBlob(r){return"[object Blob]"===toString.call(r)}function isFunction(r){return"[object Function]"===toString.call(r)}function isStream(r){return isObject(r)&&isFunction(r.pipe)}function isURLSearchParams(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}function trim(r){return r.replace(/^\s*/,"").replace(/\s*$/,"")}function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function forEach(r,e){if(null!==r&&void 0!==r)if("object"!=typeof r&&(r=[r]),isArray(r))for(var t=0,i=r.length;t<i;t++)e.call(null,r[t],t,r);else for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.call(null,r[n],n,r)}function merge(){function r(r,t){"object"==typeof e[t]&&"object"==typeof r?e[t]=merge(e[t],r):e[t]=r}for(var e={},t=0,i=arguments.length;t<i;t++)forEach(arguments[t],r);return e}function extend(r,e,t){return forEach(e,function(e,i){r[i]=t&&"function"==typeof e?bind(e,t):e}),r}var bind=_dereq_("./helpers/bind"),isBuffer=_dereq_("is-buffer"),toString=Object.prototype.toString;module.exports={isArray:isArray,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,extend:extend,trim:trim};
},{"./helpers/bind":15,"is-buffer":28}],26:[function(_dereq_,module,exports){
!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):r.chroma=e()}(this,function(){"use strict";function r(r,e,n){for(var t=[],a=r<e,f=n?a?e+1:e-1:e,o=r;a?o<f:o>f;a?o++:o--)t.push(o);return t}for(var e=function(r,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),r<e?e:r>n?n:r},n=function(r){r._clipped=!1,r._unclipped=r.slice(0);for(var n=0;n<=3;n++)n<3?((r[n]<0||r[n]>255)&&(r._clipped=!0),r[n]=e(r[n],0,255)):3===n&&(r[n]=e(r[n],0,1));return r},t={},a=0,f=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];a<f.length;a+=1){var o=f[a];t["[object "+o+"]"]=o.toLowerCase()}var u=function(r){return t[Object.prototype.toString.call(r)]||"object"},c=function(r,e){return void 0===e&&(e=null),r.length>=3?Array.prototype.slice.call(r):"object"==u(r[0])&&e?e.split("").filter(function(e){return void 0!==r[0][e]}).map(function(e){return r[0][e]}):r[0]},i=function(r){if(r.length<2)return null;var e=r.length-1;return"string"==u(r[e])?r[e].toLowerCase():null},l=Math.PI,h={clip_rgb:n,limit:e,type:u,unpack:c,last:i,PI:l,TWOPI:2*l,PITHIRD:l/3,DEG2RAD:l/180,RAD2DEG:180/l},d={format:{},autodetect:[]},s=h.last,b=h.clip_rgb,p=h.type,g=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=this;if("object"===p(r[0])&&r[0].constructor&&r[0].constructor===this.constructor)return r[0];var t=s(r),a=!1;if(!t){a=!0,d.sorted||(d.autodetect=d.autodetect.sort(function(r,e){return e.p-r.p}),d.sorted=!0);for(var f=0,o=d.autodetect;f<o.length;f+=1){var u=o[f];if(t=u.test.apply(u,r))break}}if(!d.format[t])throw new Error("unknown format: "+r);var c=d.format[t].apply(null,a?r:r.slice(0,-1));n._rgb=b(c),3===n._rgb.length&&n._rgb.push(1)};g.prototype.toString=function(){return"function"==p(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var v=g,m=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(m.Color,[null].concat(r)))};m.Color=v,m.version="2.0.3";var y=m,w=h.unpack,k=Math.max,M=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=w(r,"rgb"),t=n[0],a=n[1],f=n[2];t/=255,a/=255,f/=255;var o=1-k(t,k(a,f)),u=o<1?1/(1-o):0;return[(1-t-o)*u,(1-a-o)*u,(1-f-o)*u,o]},N=M,_=h.unpack,x=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=_(r,"cmyk");var n=r[0],t=r[1],a=r[2],f=r[3],o=r.length>4?r[4]:1;return 1===f?[0,0,0,o]:[n>=1?0:255*(1-n)*(1-f),t>=1?0:255*(1-t)*(1-f),a>=1?0:255*(1-a)*(1-f),o]},A=x,E=h.unpack,P=h.type;v.prototype.cmyk=function(){return N(this._rgb)},y.cmyk=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(v,[null].concat(r,["cmyk"])))},d.format.cmyk=A,d.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=E(r,"cmyk"),"array"===P(r)&&4===r.length)return"cmyk"}});var F=h.unpack,O=h.last,j=function(r){return Math.round(100*r)/100},G=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=F(r,"hsla"),t=O(r)||"lsa";return n[0]=j(n[0]||0),n[1]=j(100*n[1])+"%",n[2]=j(100*n[2])+"%","hsla"===t||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,t="hsla"):n.length=3,t+"("+n.join(",")+")"},q=G,L=h.unpack,R=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=L(r,"rgba");var n=r[0],t=r[1],a=r[2];n/=255,t/=255,a/=255;var f,o,u=Math.min(n,t,a),c=Math.max(n,t,a),i=(c+u)/2;return c===u?(f=0,o=Number.NaN):f=i<.5?(c-u)/(c+u):(c-u)/(2-c-u),n==c?o=(t-a)/(c-u):t==c?o=2+(a-n)/(c-u):a==c&&(o=4+(n-t)/(c-u)),o*=60,o<0&&(o+=360),r.length>3&&void 0!==r[3]?[o,f,i,r[3]]:[o,f,i]},I=R,B=h.unpack,C=h.last,D=Math.round,Y=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=B(r,"rgba"),t=C(r)||"rgb";return"hsl"==t.substr(0,3)?q(I(n),t):(n[0]=D(n[0]),n[1]=D(n[1]),n[2]=D(n[2]),("rgba"===t||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,t="rgba"),t+"("+n.slice(0,"rgb"===t?3:4).join(",")+")")},S=Y,$=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,z=/^#?([A-Fa-f0-9]{8})$/,T=function(r){if(r.match($)){4!==r.length&&7!==r.length||(r=r.substr(1)),3===r.length&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var e=parseInt(r,16);return[e>>16,e>>8&255,255&e,1]}if(r.match(z)){9===r.length&&(r=r.substr(1));var n=parseInt(r,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+r)},X=T,U=h.unpack,V=Math.round,W=function(){for(var r,e=[],n=arguments.length;n--;)e[n]=arguments[n];e=U(e,"hsl");var t,a,f,o=e[0],u=e[1],c=e[2];if(0===u)t=a=f=255*c;else{var i=[0,0,0],l=[0,0,0],h=c<.5?c*(1+u):c+u-c*u,d=2*c-h,s=o/360;i[0]=s+1/3,i[1]=s,i[2]=s-1/3;for(var b=0;b<3;b++)i[b]<0&&(i[b]+=1),i[b]>1&&(i[b]-=1),6*i[b]<1?l[b]=d+6*(h-d)*i[b]:2*i[b]<1?l[b]=h:3*i[b]<2?l[b]=d+(h-d)*(2/3-i[b])*6:l[b]=d;r=[V(255*l[0]),V(255*l[1]),V(255*l[2])],t=r[0],a=r[1],f=r[2]}return e.length>3?[t,a,f,e[3]]:[t,a,f,1]},K=W,Z={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},H=Z,J=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Q=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,rr=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,er=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,nr=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,tr=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ar=Math.round,fr=function(r){if(r=r.toLowerCase().trim(),H[r])return X(H[r]);var e;if(e=r.match(J)){for(var n=e.slice(1,4),t=0;t<3;t++)n[t]=+n[t];return n[3]=1,n}if(e=r.match(Q)){for(var a=e.slice(1,5),f=0;f<4;f++)a[f]=+a[f];return a}if(e=r.match(rr)){for(var o=e.slice(1,4),u=0;u<3;u++)o[u]=ar(2.55*o[u]);return o[3]=1,o}if(e=r.match(er)){for(var c=e.slice(1,5),i=0;i<3;i++)c[i]=ar(2.55*c[i]);return c[3]=+c[3],c}if(e=r.match(nr)){var l=e.slice(1,4);l[1]*=.01,l[2]*=.01;var h=K(l);return h[3]=1,h}if(e=r.match(tr)){var d=e.slice(1,4);d[1]*=.01,d[2]*=.01;var s=K(d);return s[3]=+e[4],s}};fr.test=function(r){return J.test(r)||Q.test(r)||rr.test(r)||er.test(r)||nr.test(r)||tr.test(r)};var or=fr,ur=h.type;v.prototype.css=function(r){return S(this._rgb,r)},y.css=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(v,[null].concat(r,["css"])))},d.format.css=or,d.autodetect.push({p:5,test:function(r){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===ur(r)&&or.test(r))return"css"}});var cr=h.unpack;d.format.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=cr(r,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},y.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(v,[null].concat(r,["gl"])))},v.prototype.gl=function(){var r=this._rgb;return[r[0]/255,r[1]/255,r[2]/255,r[3]]};var ir=h.unpack,lr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n,t=ir(r,"rgb"),a=t[0],f=t[1],o=t[2],u=Math.min(a,f,o),c=Math.max(a,f,o),i=c-u,l=100*i/255,h=u/(255-i)*100;return 0===i?n=Number.NaN:(a===c&&(n=(f-o)/i),f===c&&(n=2+(o-a)/i),o===c&&(n=4+(a-f)/i),(n*=60)<0&&(n+=360)),[n,l,h]},hr=lr,dr=h.unpack,sr=Math.floor,br=function(){for(var r,e,n,t,a,f,o=[],u=arguments.length;u--;)o[u]=arguments[u];o=dr(o,"hcg");var c,i,l,h=o[0],d=o[1],s=o[2];s*=255;var b=255*d;if(0===d)c=i=l=s;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360),h/=60;var p=sr(h),g=h-p,v=s*(1-d),m=v+b*(1-g),y=v+b*g,w=v+b;switch(p){case 0:r=[w,y,v],c=r[0],i=r[1],l=r[2];break;case 1:e=[m,w,v],c=e[0],i=e[1],l=e[2];break;case 2:n=[v,w,y],c=n[0],i=n[1],l=n[2];break;case 3:t=[v,m,w],c=t[0],i=t[1],l=t[2];break;case 4:a=[y,v,w],c=a[0],i=a[1],l=a[2];break;case 5:f=[w,v,m],c=f[0],i=f[1],l=f[2]}}return[c,i,l,o.length>3?o[3]:1]},pr=br,gr=h.unpack,vr=h.type;v.prototype.hcg=function(){return hr(this._rgb)},y.hcg=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(v,[null].concat(r,["hcg"])))},d.format.hcg=pr,d.autodetect.push({p:1,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=gr(r,"hcg"),"array"===vr(r)&&3===r.length)return"hcg"}});var mr=h.unpack,yr=h.last,wr=Math.round,kr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=mr(r,"rgba"),t=n[0],a=n[1],f=n[2],o=n[3],u=yr(r)||"auto";void 0===o&&(o=1),"auto"===u&&(u=o<1?"rgba":"rgb"),t=wr(t),a=wr(a),f=wr(f);var c=t<<16|a<<8|f,i="000000"+c.toString(16);i=i.substr(i.length-6);var l="0"+wr(255*o).toString(16);switch(l=l.substr(l.length-2),u.toLowerCase()){case"rgba":return"#"+i+l;case"argb":return"#"+l+i;default:return"#"+i}},Mr=kr,Nr=h.type;v.prototype.hex=function(r){return Mr(this._rgb,r)},y.hex=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(v,[null].concat(r,["hex"])))},d.format.hex=X,d.autodetect.push({p:4,test:function(r){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===Nr(r)&&[3,4,6,7,8,9].includes(r.length))return"hex"}});var _r=h.unpack,xr=h.TWOPI,Ar=Math.min,Er=Math.sqrt,Pr=Math.acos,Fr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=_r(r,"rgb"),t=n[0],a=n[1],f=n[2];t/=255,a/=255,f/=255;var o,u=Ar(t,a,f),c=(t+a+f)/3,i=c>0?1-u/c:0;return 0===i?o=NaN:(o=(t-a+(t-f))/2,o/=Er((t-a)*(t-a)+(t-f)*(a-f)),o=Pr(o),f>a&&(o=xr-o),o/=xr),[360*o,i,c]},Or=Fr,jr=h.unpack,Gr=h.limit,qr=h.TWOPI,Lr=h.PITHIRD,Rr=Math.cos,Ir=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=jr(r,"hsi");var n,t,a,f=r[0],o=r[1],u=r[2];return isNaN(f)&&(f=0),isNaN(o)&&(o=0),f>360&&(f-=360),f<0&&(f+=360),f/=360,f<1/3?(a=(1-o)/3,n=(1+o*Rr(qr*f)/Rr(Lr-qr*f))/3,t=1-(a+n)):f<2/3?(f-=1/3,n=(1-o)/3,t=(1+o*Rr(qr*f)/Rr(Lr-qr*f))/3,a=1-(n+t)):(f-=2/3,t=(1-o)/3,a=(1+o*Rr(qr*f)/Rr(Lr-qr*f))/3,n=1-(t+a)),n=Gr(u*n*3),t=Gr(u*t*3),a=Gr(u*a*3),[255*n,255*t,255*a,r.length>3?r[3]:1]},Br=Ir,Cr=h.unpack,Dr=h.type;v.prototype.hsi=function(){return Or(this._rgb)},y.hsi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(v,[null].concat(r,["hsi"])))},d.format.hsi=Br,d.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Cr(r,"hsi"),"array"===Dr(r)&&3===r.length)return"hsi"}});var Yr=h.unpack,Sr=h.type;v.prototype.hsl=function(){return I(this._rgb)},y.hsl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(v,[null].concat(r,["hsl"])))},d.format.hsl=K,d.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Yr(r,"hsl"),"array"===Sr(r)&&3===r.length)return"hsl"}});var $r=h.unpack,zr=Math.min,Tr=Math.max,Xr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=$r(r,"rgb");var n,t,a,f=r[0],o=r[1],u=r[2],c=zr(f,o,u),i=Tr(f,o,u),l=i-c;return a=i/255,0===i?(n=Number.NaN,t=0):(t=l/i,f===i&&(n=(o-u)/l),o===i&&(n=2+(u-f)/l),u===i&&(n=4+(f-o)/l),(n*=60)<0&&(n+=360)),[n,t,a]},Ur=Xr,Vr=h.unpack,Wr=Math.floor,Kr=function(){for(var r,e,n,t,a,f,o=[],u=arguments.length;u--;)o[u]=arguments[u];o=Vr(o,"hsv");var c,i,l,h=o[0],d=o[1],s=o[2];if(s*=255,0===d)c=i=l=s;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360),h/=60;var b=Wr(h),p=h-b,g=s*(1-d),v=s*(1-d*p),m=s*(1-d*(1-p));switch(b){case 0:r=[s,m,g],c=r[0],i=r[1],l=r[2];break;case 1:e=[v,s,g],c=e[0],i=e[1],l=e[2];break;case 2:n=[g,s,m],c=n[0],i=n[1],l=n[2];break;case 3:t=[g,v,s],c=t[0],i=t[1],l=t[2];break;case 4:a=[m,g,s],c=a[0],i=a[1],l=a[2];break;case 5:f=[s,g,v],c=f[0],i=f[1],l=f[2]}}return[c,i,l,o.length>3?o[3]:1]},Zr=Kr,Hr=h.unpack,Jr=h.type;v.prototype.hsv=function(){return Ur(this._rgb)},y.hsv=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(v,[null].concat(r,["hsv"])))},d.format.hsv=Zr,d.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Hr(r,"hsv"),"array"===Jr(r)&&3===r.length)return"hsv"}});var Qr={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},re=h.unpack,ee=Math.pow,ne=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=re(r,"rgb"),t=n[0],a=n[1],f=n[2],o=fe(t,a,f),u=o[0],c=o[1],i=o[2],l=116*c-16;return[l<0?0:l,500*(u-c),200*(c-i)]},te=function(r){return(r/=255)<=.04045?r/12.92:ee((r+.055)/1.055,2.4)},ae=function(r){return r>Qr.t3?ee(r,1/3):r/Qr.t2+Qr.t0},fe=function(r,e,n){return r=te(r),e=te(e),n=te(n),[ae((.4124564*r+.3575761*e+.1804375*n)/Qr.Xn),ae((.2126729*r+.7151522*e+.072175*n)/Qr.Yn),ae((.0193339*r+.119192*e+.9503041*n)/Qr.Zn)]},oe=ne,ue=h.unpack,ce=Math.pow,ie=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=ue(r,"lab");var n,t,a,f,o,u,c=r[0],i=r[1],l=r[2];return t=(c+16)/116,n=isNaN(i)?t:t+i/500,a=isNaN(l)?t:t-l/200,t=Qr.Yn*he(t),n=Qr.Xn*he(n),a=Qr.Zn*he(a),f=le(3.2404542*n-1.5371385*t-.4985314*a),o=le(-.969266*n+1.8760108*t+.041556*a),u=le(.0556434*n-.2040259*t+1.0572252*a),[f,o,u,r.length>3?r[3]:1]},le=function(r){return 255*(r<=.00304?12.92*r:1.055*ce(r,1/2.4)-.055)},he=function(r){return r>Qr.t1?r*r*r:Qr.t2*(r-Qr.t0)},de=ie,se=h.unpack,be=h.type;v.prototype.lab=function(){return oe(this._rgb)},y.lab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(v,[null].concat(r,["lab"])))},d.format.lab=de,d.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=se(r,"lab"),"array"===be(r)&&3===r.length)return"lab"}});var pe=h.unpack,ge=h.RAD2DEG,ve=Math.sqrt,me=Math.atan2,ye=Math.round,we=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=pe(r,"lab"),t=n[0],a=n[1],f=n[2],o=ve(a*a+f*f),u=(me(f,a)*ge+360)%360;return 0===ye(1e4*o)&&(u=Number.NaN),[t,o,u]},ke=we,Me=h.unpack,Ne=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Me(r,"rgb"),t=n[0],a=n[1],f=n[2],o=oe(t,a,f),u=o[0],c=o[1],i=o[2];return ke(u,c,i)},_e=Ne,xe=h.unpack,Ae=h.DEG2RAD,Ee=Math.sin,Pe=Math.cos,Fe=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=xe(r,"lch"),t=n[0],a=n[1],f=n[2];return isNaN(f)&&(f=0),f*=Ae,[t,Pe(f)*a,Ee(f)*a]},Oe=Fe,je=h.unpack,Ge=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=je(r,"lch");var n=r[0],t=r[1],a=r[2],f=Oe(n,t,a),o=f[0],u=f[1],c=f[2],i=de(o,u,c);return[i[0],i[1],i[2],r.length>3?r[3]:1]},qe=Ge,Le=h.unpack,Re=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Le(r,"hcl").reverse();return qe.apply(void 0,n)},Ie=Re,Be=h.unpack,Ce=h.type;v.prototype.lch=function(){return _e(this._rgb)},v.prototype.hcl=function(){return _e(this._rgb).reverse()},y.lch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(v,[null].concat(r,["lch"])))},y.hcl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(v,[null].concat(r,["hcl"])))},d.format.lch=qe,d.format.hcl=Ie,["lch","hcl"].forEach(function(r){return d.autodetect.push({p:2,test:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e=Be(e,r),"array"===Ce(e)&&3===e.length)return r}})});var De=h.type;v.prototype.name=function(){for(var r=Mr(this._rgb,"rgb"),e=0,n=Object.keys(H);e<n.length;e+=1){var t=n[e];if(H[t]===r)return t.toLowerCase()}return r},d.format.named=function(r){if(r=r.toLowerCase(),H[r])return X(H[r]);throw new Error("unknown color name: "+r)},d.autodetect.push({p:5,test:function(r){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===De(r)&&H[r.toLowerCase()])return"named"}});var Ye=h.unpack,Se=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Ye(r,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]},$e=Se,ze=h.type,Te=function(r){if("number"==ze(r)&&r>=0&&r<=16777215){return[r>>16,r>>8&255,255&r,1]}throw new Error("unknown num color: "+r)},Xe=Te,Ue=h.type;v.prototype.num=function(){return $e(this._rgb)},y.num=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(v,[null].concat(r,["num"])))},d.format.num=Xe,d.autodetect.push({p:5,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(1===r.length&&"number"===Ue(r[0])&&r[0]>=0&&r[0]<=16777215)return"num"}});var Ve=h.unpack,We=h.type,Ke=Math.round;v.prototype.rgb=function(r){return void 0===r&&(r=!0),!1===r?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ke)},v.prototype.rgba=function(r){return void 0===r&&(r=!0),this._rgb.slice(0,4).map(function(e,n){return n<3?!1===r?e:Ke(e):e})},y.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(v,[null].concat(r,["rgb"])))},d.format.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Ve(r,"rgba");return void 0===n[3]&&(n[3]=1),n},d.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Ve(r,"rgba"),"array"===We(r)&&(3===r.length||4===r.length&&"number"==We(r[3])&&r[3]>=0&&r[3]<=1))return"rgb"}});var Ze=Math.log,He=function(r){var e,n,t,a=r/100;return a<66?(e=255,n=-155.25485562709179-.44596950469579133*(n=a-2)+104.49216199393888*Ze(n),t=a<20?0:.8274096064007395*(t=a-10)-254.76935184120902+115.67994401066147*Ze(t)):(e=351.97690566805693+.114206453784165*(e=a-55)-40.25366309332127*Ze(e),n=325.4494125711974+.07943456536662342*(n=a-50)-28.0852963507957*Ze(n),t=255),[e,n,t,1]},Je=He,Qe=h.unpack,rn=Math.round,en=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];for(var n,t=Qe(r,"rgb"),a=t[0],f=t[2],o=1e3,u=4e4;u-o>.4;){n=.5*(u+o);var c=Je(n);c[2]/c[0]>=f/a?u=n:o=n}return rn(n)},nn=en;v.prototype.temp=v.prototype.kelvin=v.prototype.temperature=function(){return nn(this._rgb)},y.temp=y.kelvin=y.temperature=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(v,[null].concat(r,["temp"])))},d.format.temp=d.format.kelvin=d.format.temperature=Je;var tn=h.type;v.prototype.alpha=function(r,e){return void 0===e&&(e=!1),void 0!==r&&"number"===tn(r)?e?(this._rgb[3]=r,this):new v([this._rgb[0],this._rgb[1],this._rgb[2],r],"rgb"):this._rgb[3]},v.prototype.clipped=function(){return this._rgb._clipped||!1},v.prototype.darken=function(r){void 0===r&&(r=1);var e=this,n=e.lab();return n[0]-=Qr.Kn*r,new v(n,"lab").alpha(e.alpha(),!0)},v.prototype.brighten=function(r){return void 0===r&&(r=1),this.darken(-r)},v.prototype.darker=v.prototype.darken,v.prototype.brighter=v.prototype.brighten,v.prototype.get=function(r){var e=r.split("."),n=e[0],t=e[1],a=this[n]();if(t){var f=n.indexOf(t);if(f>-1)return a[f];throw new Error("unknown channel "+t+" in mode "+n)}return a};var an=h.type,fn=Math.pow;v.prototype.luminance=function(r){if(void 0!==r&&"number"===an(r)){if(0===r)return new v([0,0,0,this._rgb[3]],"rgb");if(1===r)return new v([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n=20,t=function(e,a){var f=e.interpolate(a,.5,"rgb"),o=f.luminance();return Math.abs(r-o)<1e-7||!n--?f:o>r?t(e,f):t(f,a)},a=(e>r?t(new v([0,0,0]),this):t(this,new v([255,255,255]))).rgb();return new v(a.concat([this._rgb[3]]))}return on.apply(void 0,this._rgb.slice(0,3))};var on=function(r,e,n){return r=un(r),e=un(e),n=un(n),.2126*r+.7152*e+.0722*n},un=function(r){return r/=255,r<=.03928?r/12.92:fn((r+.055)/1.055,2.4)},cn={},ln=h.type,hn=function(r,e,n){void 0===n&&(n=.5);for(var t=[],a=arguments.length-3;a-- >0;)t[a]=arguments[a+3];var f=t[0]||"lrgb";if(cn[f]||t.length||(f=Object.keys(cn)[0]),!cn[f])throw new Error("interpolation mode "+f+" is not defined");return"object"!==ln(r)&&(r=new v(r)),"object"!==ln(e)&&(e=new v(e)),cn[f](r,e,n).alpha(r.alpha()+n*(e.alpha()-r.alpha()))};v.prototype.mix=v.prototype.interpolate=function(r,e){void 0===e&&(e=.5);for(var n=[],t=arguments.length-2;t-- >0;)n[t]=arguments[t+2];return hn.apply(void 0,[this,r,e].concat(n))},v.prototype.premultiply=function(r){void 0===r&&(r=!1);var e=this._rgb,n=e[3];return r?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new v([e[0]*n,e[1]*n,e[2]*n,n],"rgb")},v.prototype.saturate=function(r){void 0===r&&(r=1);var e=this,n=e.lch();return n[1]+=Qr.Kn*r,n[1]<0&&(n[1]=0),new v(n,"lch").alpha(e.alpha(),!0)},v.prototype.desaturate=function(r){return void 0===r&&(r=1),this.saturate(-r)};var dn=h.type;v.prototype.set=function(r,e,n){void 0===n&&(n=!1);var t=r.split("."),a=t[0],f=t[1],o=this[a]();if(f){var u=a.indexOf(f);if(u>-1){if("string"==dn(e))switch(e.charAt(0)){case"+":case"-":o[u]+=+e;break;case"*":o[u]*=+e.substr(1);break;case"/":o[u]/=+e.substr(1);break;default:o[u]=+e}else{if("number"!==dn(e))throw new Error("unsupported value for Color.set");o[u]=e}var c=new v(o,a);return n?(this._rgb=c._rgb,this):c}throw new Error("unknown channel "+f+" in mode "+a)}return o};var sn=function(r,e,n){var t=r._rgb,a=e._rgb;return new v(t[0]+n*(a[0]-t[0]),t[1]+n*(a[1]-t[1]),t[2]+n*(a[2]-t[2]),"rgb")};cn.rgb=sn;var bn=Math.sqrt,pn=Math.pow,gn=function(r,e,n){var t=r._rgb,a=t[0],f=t[1],o=t[2],u=e._rgb,c=u[0],i=u[1],l=u[2];return new v(bn(pn(a,2)*(1-n)+pn(c,2)*n),bn(pn(f,2)*(1-n)+pn(i,2)*n),bn(pn(o,2)*(1-n)+pn(l,2)*n),"rgb")};cn.lrgb=gn;var vn=function(r,e,n){var t=r.lab(),a=e.lab();return new v(t[0]+n*(a[0]-t[0]),t[1]+n*(a[1]-t[1]),t[2]+n*(a[2]-t[2]),"lab")};cn.lab=vn;var mn=function(r,e,n,t){var a,f,o,u;"hsl"===t?(o=r.hsl(),u=e.hsl()):"hsv"===t?(o=r.hsv(),u=e.hsv()):"hcg"===t?(o=r.hcg(),u=e.hcg()):"hsi"===t?(o=r.hsi(),u=e.hsi()):"lch"!==t&&"hcl"!==t||(t="hcl",o=r.hcl(),u=e.hcl());var c,i,l,h,d,s;"h"===t.substr(0,1)&&(a=o,c=a[0],l=a[1],d=a[2],f=u,i=f[0],h=f[1],s=f[2]);var b,p,g,m;return isNaN(c)||isNaN(i)?isNaN(c)?isNaN(i)?p=Number.NaN:(p=i,1!=d&&0!=d||"hsv"==t||(b=h)):(p=c,1!=s&&0!=s||"hsv"==t||(b=l)):(m=i>c&&i-c>180?i-(c+360):i<c&&c-i>180?i+360-c:i-c,p=c+n*m),void 0===b&&(b=l+n*(h-l)),g=d+n*(s-d),new v([p,b,g],t)},yn=function(r,e,n){return mn(r,e,n,"lch")};cn.lch=yn,cn.hcl=yn;var wn=function(r,e,n){var t=r.num(),a=e.num();return new v(t+n*(a-t),"num")};cn.num=wn;var kn=function(r,e,n){return mn(r,e,n,"hcg")};cn.hcg=kn;var Mn=function(r,e,n){return mn(r,e,n,"hsi")};cn.hsi=Mn;var Nn=function(r,e,n){return mn(r,e,n,"hsl")};cn.hsl=Nn;var _n=function(r,e,n){return mn(r,e,n,"hsv")};cn.hsv=_n;var xn=h.clip_rgb,An=Math.pow,En=Math.sqrt,Pn=Math.PI,Fn=Math.cos,On=Math.sin,jn=Math.atan2,Gn=function(r,e){void 0===e&&(e="lrgb");var n=r.length;if(r=r.map(function(r){return new v(r)}),"lrgb"===e)return qn(r);for(var t=r.shift(),a=t.get(e),f=[],o=0,u=0,c=0;c<a.length;c++)if(a[c]=a[c]||0,f.push(isNaN(a[c])?0:1),"h"===e.charAt(c)&&!isNaN(a[c])){var i=a[c]/180*Pn;o+=Fn(i),u+=On(i)}var l=t.alpha();r.forEach(function(r){var n=r.get(e);l+=r.alpha();for(var t=0;t<a.length;t++)if(!isNaN(n[t]))if(f[t]++,"h"===e.charAt(t)){var c=n[t]/180*Pn;o+=Fn(c),u+=On(c)}else a[t]+=n[t]});for(var h=0;h<a.length;h++)if("h"===e.charAt(h)){for(var d=jn(u/f[h],o/f[h])/Pn*180;d<0;)d+=360;for(;d>=360;)d-=360;a[h]=d}else a[h]=a[h]/f[h];return l/=n,new v(a,e).alpha(l>.99999?1:l,!0)},qn=function(r){for(var e=r.length,n=1/e,t=[0,0,0,0],a=0,f=r;a<f.length;a+=1){var o=f[a],u=o._rgb;t[0]+=An(u[0],2)*n,t[1]+=An(u[1],2)*n,t[2]+=An(u[2],2)*n,t[3]+=u[3]*n}return t[0]=En(t[0]),t[1]=En(t[1]),t[2]=En(t[2]),t[3]>.9999999&&(t[3]=1),new v(xn(t))},Ln=h.type,Rn=Math.pow,In=function(e){var n="rgb",t=y("#ccc"),a=0,f=[0,1],o=[],u=[0,0],c=!1,i=[],l=!1,h=0,d=1,s=!1,b={},p=!0,g=1,v=function(r){if(r=r||["#fff","#000"],r&&"string"===Ln(r)&&y.brewer&&y.brewer[r.toLowerCase()]&&(r=y.brewer[r.toLowerCase()]),"array"===Ln(r)){1===r.length&&(r=[r[0],r[0]]),r=r.slice(0);for(var e=0;e<r.length;e++)r[e]=y(r[e]);o.length=0;for(var n=0;n<r.length;n++)o.push(n/(r.length-1))}return M(),i=r},m=function(r){if(null!=c){for(var e=c.length-1,n=0;n<e&&r>=c[n];)n++;return n-1}return 0},w=function(r){return r},k=function(r,e){var a,f;if(null==e&&(e=!1),isNaN(r)||null===r)return t;if(e)f=r;else if(c&&c.length>2){var l=m(r);f=l/(c.length-2)}else f=d!==h?(r-h)/(d-h):1;e||(f=w(f)),1!==g&&(f=Rn(f,g)),f=u[0]+f*(1-u[0]-u[1]),f=Math.min(1,Math.max(0,f));var s=Math.floor(1e4*f);if(p&&b[s])a=b[s];else{if("array"===Ln(i))for(var v=0;v<o.length;v++){var k=o[v];if(f<=k){a=i[v];break}if(f>=k&&v===o.length-1){a=i[v];break}if(f>k&&f<o[v+1]){f=(f-k)/(o[v+1]-k),a=y.interpolate(i[v],i[v+1],f,n);break}}else"function"===Ln(i)&&(a=i(f));p&&(b[s]=a)}return a},M=function(){return b={}};v(e);var N=function(r){var e=y(k(r));return l&&e[l]?e[l]():e};return N.classes=function(r){if(null!=r){if("array"===Ln(r))c=r,f=[r[0],r[r.length-1]];else{var e=y.analyze(f);c=0===r?[e.min,e.max]:y.limits(e,"e",r)}return N}return c},N.domain=function(r){if(!arguments.length)return f;h=r[0],d=r[r.length-1],o=[];var e=i.length;if(r.length===e&&h!==d)for(var n=0,t=Array.from(r);n<t.length;n+=1){var a=t[n];o.push((a-h)/(d-h))}else for(var u=0;u<e;u++)o.push(u/(e-1));return f=[h,d],N},N.mode=function(r){return arguments.length?(n=r,M(),N):n},N.range=function(r,e){return v(r),N},N.out=function(r){return l=r,N},N.spread=function(r){return arguments.length?(a=r,N):a},N.correctLightness=function(r){return null==r&&(r=!0),s=r,M(),w=s?function(r){for(var e=k(0,!0).lab()[0],n=k(1,!0).lab()[0],t=e>n,a=k(r,!0).lab()[0],f=e+(n-e)*r,o=a-f,u=0,c=1,i=20;Math.abs(o)>.01&&i-- >0;)!function(){t&&(o*=-1),o<0?(u=r,r+=.5*(c-r)):(c=r,r+=.5*(u-r)),a=k(r,!0).lab()[0],o=a-f}();return r}:function(r){return r},N},N.padding=function(r){return null!=r?("number"===Ln(r)&&(r=[r,r]),u=r,N):u},N.colors=function(n,t){arguments.length<2&&(t="hex");var a=[];if(0===arguments.length)a=i.slice(0);else if(1===n)a=[N(.5)];else if(n>1){var o=f[0],u=f[1]-o;a=r(0,n,!1).map(function(r){return N(o+r/(n-1)*u)})}else{e=[];var l=[];if(c&&c.length>2)for(var h=1,d=c.length,s=1<=d;s?h<d:h>d;s?h++:h--)l.push(.5*(c[h-1]+c[h]));else l=f;a=l.map(function(r){return N(r)})}return y[t]&&(a=a.map(function(r){return r[t]()})),a},N.cache=function(r){return null!=r?(p=r,N):p},N.gamma=function(r){return null!=r?(g=r,N):g},N.nodata=function(r){return null!=r?(t=y(r),N):t},N},Bn=function(r){var e,n,t,a,f,o,u;if(r=r.map(function(r){return new v(r)}),2===r.length)e=r.map(function(r){return r.lab()}),f=e[0],o=e[1],a=function(r){var e=[0,1,2].map(function(e){return f[e]+r*(o[e]-f[e])});return new v(e,"lab")};else if(3===r.length)n=r.map(function(r){return r.lab()}),f=n[0],o=n[1],u=n[2],a=function(r){var e=[0,1,2].map(function(e){return(1-r)*(1-r)*f[e]+2*(1-r)*r*o[e]+r*r*u[e]});return new v(e,"lab")};else if(4===r.length){var c;t=r.map(function(r){return r.lab()}),f=t[0],o=t[1],u=t[2],c=t[3],a=function(r){var e=[0,1,2].map(function(e){return(1-r)*(1-r)*(1-r)*f[e]+3*(1-r)*(1-r)*r*o[e]+3*(1-r)*r*r*u[e]+r*r*r*c[e]});return new v(e,"lab")}}else if(5===r.length){var i=Bn(r.slice(0,3)),l=Bn(r.slice(2,5));a=function(r){return r<.5?i(2*r):l(2*(r-.5))}}return a},Cn=function(r){var e=Bn(r);return e.scale=function(){return In(e)},e},Dn=function(r,e,n){if(!Dn[n])throw new Error("unknown blend mode "+n);return Dn[n](r,e)},Yn=function(r){return function(e,n){var t=y(n).rgb(),a=y(e).rgb();return y.rgb(r(t,a))}},Sn=function(r){return function(e,n){var t=[];return t[0]=r(e[0],n[0]),t[1]=r(e[1],n[1]),t[2]=r(e[2],n[2]),t}},$n=function(r){return r},zn=function(r,e){return r*e/255},Tn=function(r,e){return r>e?e:r},Xn=function(r,e){return r>e?r:e},Un=function(r,e){return 255*(1-(1-r/255)*(1-e/255))},Vn=function(r,e){return e<128?2*r*e/255:255*(1-2*(1-r/255)*(1-e/255))},Wn=function(r,e){return 255*(1-(1-e/255)/(r/255))},Kn=function(r,e){return 255===r?255:(r=e/255*255/(1-r/255),r>255?255:r)};Dn.normal=Yn(Sn($n)),Dn.multiply=Yn(Sn(zn)),Dn.screen=Yn(Sn(Un)),Dn.overlay=Yn(Sn(Vn)),Dn.darken=Yn(Sn(Tn)),Dn.lighten=Yn(Sn(Xn)),Dn.dodge=Yn(Sn(Kn)),Dn.burn=Yn(Sn(Wn));for(var Zn=Dn,Hn=h.type,Jn=h.clip_rgb,Qn=h.TWOPI,rt=Math.pow,et=Math.sin,nt=Math.cos,tt=function(r,e,n,t,a){void 0===r&&(r=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===t&&(t=1),void 0===a&&(a=[0,1]);var f,o=0;"array"===Hn(a)?f=a[1]-a[0]:(f=0,a=[a,a]);var u=function(u){var c=Qn*((r+120)/360+e*u),i=rt(a[0]+f*u,t),l=0!==o?n[0]+u*o:n,h=l*i*(1-i)/2,d=nt(c),s=et(c);return y(Jn([255*(i+h*(-.14861*d+1.78277*s)),255*(i+h*(-.29227*d-.90649*s)),255*(i+h*(1.97294*d)),1]))};return u.start=function(e){return null==e?r:(r=e,u)},u.rotations=function(r){return null==r?e:(e=r,u)},u.gamma=function(r){return null==r?t:(t=r,u)},u.hue=function(r){return null==r?n:(n=r,"array"===Hn(n)?0===(o=n[1]-n[0])&&(n=n[1]):o=0,u)},u.lightness=function(r){return null==r?a:("array"===Hn(r)?(a=r,f=r[1]-r[0]):(a=[r,r],f=0),u)},u.scale=function(){return y.scale(u)},u.hue(n),u},at="0123456789abcdef",ft=Math.floor,ot=Math.random,ut=function(){for(var r="#",e=0;e<6;e++)r+=at.charAt(ft(16*ot()));return new v(r,"hex")},ct=Math.log,it=Math.pow,lt=Math.floor,ht=Math.abs,dt=function(r,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===u(r)&&(r=Object.values(r)),
r.forEach(function(r){e&&"object"===u(r)&&(r=r[e]),void 0===r||null===r||isNaN(r)||(n.values.push(r),n.sum+=r,r<n.min&&(n.min=r),r>n.max&&(n.max=r),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(r,e){return st(n,r,e)},n},st=function(r,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==u(r)&&(r=dt(r));var t=r.min,a=r.max,f=r.values.sort(function(r,e){return r-e});if(1===n)return[t,a];var o=[];if("c"===e.substr(0,1)&&(o.push(t),o.push(a)),"e"===e.substr(0,1)){o.push(t);for(var c=1;c<n;c++)o.push(t+c/n*(a-t));o.push(a)}else if("l"===e.substr(0,1)){if(t<=0)throw new Error("Logarithmic scales are only possible for values > 0");var i=Math.LOG10E*ct(t),l=Math.LOG10E*ct(a);o.push(t);for(var h=1;h<n;h++)o.push(it(10,i+h/n*(l-i)));o.push(a)}else if("q"===e.substr(0,1)){o.push(t);for(var d=1;d<n;d++){var s=(f.length-1)*d/n,b=lt(s);if(b===s)o.push(f[b]);else{var p=s-b;o.push(f[b]*(1-p)+f[b+1]*p)}}o.push(a)}else if("k"===e.substr(0,1)){var g,v=f.length,m=new Array(v),y=new Array(n),w=!0,k=0,M=null;M=[],M.push(t);for(var N=1;N<n;N++)M.push(t+N/n*(a-t));for(M.push(a);w;){for(var _=0;_<n;_++)y[_]=0;for(var x=0;x<v;x++)for(var A=f[x],E=Number.MAX_VALUE,P=void 0,F=0;F<n;F++){var O=ht(M[F]-A);O<E&&(E=O,P=F),y[P]++,m[x]=P}for(var j=new Array(n),G=0;G<n;G++)j[G]=null;for(var q=0;q<v;q++)g=m[q],null===j[g]?j[g]=f[q]:j[g]+=f[q];for(var L=0;L<n;L++)j[L]*=1/y[L];w=!1;for(var R=0;R<n;R++)if(j[R]!==M[R]){w=!0;break}M=j,k++,k>200&&(w=!1)}for(var I={},B=0;B<n;B++)I[B]=[];for(var C=0;C<v;C++)g=m[C],I[g].push(f[C]);for(var D=[],Y=0;Y<n;Y++)D.push(I[Y][0]),D.push(I[Y][I[Y].length-1]);D=D.sort(function(r,e){return r-e}),o.push(D[0]);for(var S=1;S<D.length;S+=2){var $=D[S];isNaN($)||-1!==o.indexOf($)||o.push($)}}return o},bt={analyze:dt,limits:st},pt=function(r,e){r=new v(r),e=new v(e);var n=r.luminance(),t=e.luminance();return n>t?(n+.05)/(t+.05):(t+.05)/(n+.05)},gt=Math.sqrt,vt=Math.atan2,mt=Math.abs,yt=Math.cos,wt=Math.PI,kt=function(r,e,n,t){void 0===n&&(n=1),void 0===t&&(t=1),r=new v(r),e=new v(e);for(var a=Array.from(r.lab()),f=a[0],o=a[1],u=a[2],c=Array.from(e.lab()),i=c[0],l=c[1],h=c[2],d=gt(o*o+u*u),s=gt(l*l+h*h),b=f<16?.511:.040975*f/(1+.01765*f),p=.0638*d/(1+.0131*d)+.638,g=d<1e-6?0:180*vt(u,o)/wt;g<0;)g+=360;for(;g>=360;)g-=360;var m=g>=164&&g<=345?.56+mt(.2*yt(wt*(g+168)/180)):.36+mt(.4*yt(wt*(g+35)/180)),y=d*d*d*d,w=gt(y/(y+1900)),k=p*(w*m+1-w),M=f-i,N=d-s,_=o-l,x=u-h,A=_*_+x*x-N*N,E=M/(n*b),P=N/(t*p),F=k;return gt(E*E+P*P+A/(F*F))},Mt=function(r,e,n){void 0===n&&(n="lab"),r=new v(r),e=new v(e);var t=r.get(n),a=e.get(n),f=0;for(var o in t){var u=(t[o]||0)-(a[o]||0);f+=u*u}return Math.sqrt(f)},Nt=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];try{return new(Function.prototype.bind.apply(v,[null].concat(r))),!0}catch(r){return!1}},_t={cool:function(){return In([y.hsl(180,1,.9),y.hsl(250,.7,.4)])},hot:function(){return In(["#000","#f00","#ff0","#fff"]).mode("rgb")}},xt={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},At=0,Et=Object.keys(xt);At<Et.length;At+=1){var Pt=Et[At];xt[Pt.toLowerCase()]=xt[Pt]}var Ft=xt;return y.average=Gn,y.bezier=Cn,y.blend=Zn,y.cubehelix=tt,y.mix=y.interpolate=hn,y.random=ut,y.scale=In,y.analyze=bt.analyze,y.contrast=pt,y.deltaE=kt,y.distance=Mt,y.limits=bt.limits,y.valid=Nt,y.scales=_t,y.colors=H,y.brewer=Ft,y});
},{}],27:[function(_dereq_,module,exports){
!function(t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):geostats=t()}(function(){var s=function(t){return"number"==typeof t&&parseFloat(t)==parseInt(t,10)&&!isNaN(t)};return Array.prototype.indexOf||(Array.prototype.indexOf=function(t,i){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var s=this.length>>>0;for(i=+i||0,1/0===Math.abs(i)&&(i=0),0>i&&0>(i+=s)&&(i=0);i<s;i++)if(this[i]===t)return i;return-1}),function(e){this.objectID="",this.legendSeparator=this.separator=" - ",this.method="",this.precision=0,this.precisionflag="auto",this.roundlength=2,this.silent=this.debug=this.is_uniqueValues=!1,this.bounds=[],this.ranges=[],this.inner_ranges=null,this.colors=[],this.counter=[],this.stat_cov=this.stat_stddev=this.stat_variance=this.stat_pop=this.stat_min=this.stat_max=this.stat_sum=this.stat_median=this.stat_mean=this.stat_sorted=null,this.log=function(t,i){1!=this.debug&&null==i||console.log(this.objectID+"(object id) :: "+t)},this.setBounds=function(t){this.log("Setting bounds ("+t.length+") : "+t.join()),this.bounds=t},this.setSerie=function(t){this.log("Setting serie ("+t.length+") : "+t.join()),this.serie=t,this.resetStatistics(),this.setPrecision()},this.setColors=function(t){this.log("Setting color ramp ("+t.length+") : "+t.join()),this.colors=t},this.doCount=function(){if(!this._nodata()){var t=this.sorted();for(this.counter=[],i=0;i<this.bounds.length-1;i++)this.counter[i]=0;for(j=0;j<t.length;j++){var s=this.getClass(t[j]);this.counter[s]++}}},this.setPrecision=function(t){if(void 0!==t&&(this.precisionflag="manual",this.precision=t),"auto"==this.precisionflag)for(t=0;t<this.serie.length;t++){var i=isNaN(this.serie[t]+"")||-1==(this.serie[t]+"").toString().indexOf(".")?0:(this.serie[t]+"").split(".")[1].length;i>this.precision&&(this.precision=i)}20<this.precision&&(this.log("this.precision value ("+this.precision+') is greater than max value. Automatic set-up to 20 to prevent "Uncaught RangeError: toFixed()" when calling decimalFormat() method.'),this.precision=20),this.log("Calling setPrecision(). Mode : "+this.precisionflag+" - Decimals : "+this.precision),this.serie=this.decimalFormat(this.serie)},this.decimalFormat=function(t){for(var i=[],s=0;s<t.length;s++){var e=t[s];e=!isNaN(parseFloat(e))&&isFinite(e),i[s]=e?parseFloat(parseFloat(t[s]).toFixed(this.precision)):t[s]}return i},this.setRanges=function(){for(this.ranges=[],i=0;i<this.bounds.length-1;i++)this.ranges[i]=this.bounds[i]+this.separator+this.bounds[i+1]},this.min=function(){if(!this._nodata()){for(this.stat_min=this.serie[0],i=0;i<this.pop();i++)this.serie[i]<this.stat_min&&(this.stat_min=this.serie[i]);return this.stat_min}},this.max=function(){if(!this._nodata()){for(this.stat_max=this.serie[0],i=0;i<this.pop();i++)this.serie[i]>this.stat_max&&(this.stat_max=this.serie[i]);return this.stat_max}},this.sum=function(){if(!this._nodata()){if(null==this.stat_sum)for(i=this.stat_sum=0;i<this.pop();i++)this.stat_sum+=parseFloat(this.serie[i]);return this.stat_sum}},this.pop=function(){if(!this._nodata())return null==this.stat_pop&&(this.stat_pop=this.serie.length),this.stat_pop},this.mean=function(){if(!this._nodata())return null==this.stat_mean&&(this.stat_mean=parseFloat(this.sum()/this.pop())),this.stat_mean},this.median=function(){if(!this._nodata()){if(null==this.stat_median){this.stat_median=0;var t=this.sorted();this.stat_median=t.length%2?parseFloat(t[Math.ceil(t.length/2)-1]):(parseFloat(t[t.length/2-1])+parseFloat(t[t.length/2]))/2}return this.stat_median}},this.variance=function(){if(round="undefined"==typeof round,!this._nodata()){if(null==this.stat_variance){for(var t=0,i=this.mean(),s=0;s<this.pop();s++)t+=Math.pow(this.serie[s]-i,2);this.stat_variance=t/this.pop(),1==round&&(this.stat_variance=Math.round(this.stat_variance*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))}return this.stat_variance}},this.stddev=function(t){if(t=void 0===t,!this._nodata())return null==this.stat_stddev&&(this.stat_stddev=Math.sqrt(this.variance()),1==t&&(this.stat_stddev=Math.round(this.stat_stddev*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))),this.stat_stddev},this.cov=function(t){if(t=void 0===t,!this._nodata())return null==this.stat_cov&&(this.stat_cov=this.stddev()/this.mean(),1==t&&(this.stat_cov=Math.round(this.stat_cov*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))),this.stat_cov},this.resetStatistics=function(){this.stat_cov=this.stat_stddev=this.stat_variance=this.stat_pop=this.stat_min=this.stat_max=this.stat_sum=this.stat_median=this.stat_mean=this.stat_sorted=null},this._nodata=function(){if(0==this.serie.length){if(!this.silent)throw new TypeError("Error. You should first enter a serie!");return this.log("[silent mode] Error. You should first enter a serie!",!0),1}return 0},this._hasNegativeValue=function(){for(i=0;i<this.serie.length;i++)if(0>this.serie[i])return!0;return!1},this._hasZeroValue=function(){for(i=0;i<this.serie.length;i++)if(0===parseFloat(this.serie[i]))return!0;return!1},this.sorted=function(){return null==this.stat_sorted&&(this.stat_sorted=0==this.is_uniqueValues?this.serie.sort(function(t,i){return t-i}):this.serie.sort(function(t,i){var s=t.toString().toLowerCase(),e=i.toString().toLowerCase();return s<e?-1:s>e?1:0})),this.stat_sorted},this.info=function(){if(!this._nodata()){var t="Population : "+this.pop()+" - [Min : "+this.min()+" | Max : "+this.max()+"]\n";return t+="Mean : "+this.mean()+" - Median : "+this.median()+"\n",t+="Variance : "+this.variance()+" - Standard deviation : "+this.stddev()+" - Coefficient of variation : "+this.cov()+"\n"}},this.setClassManually=function(i){if(!this._nodata()){if(i[0]===this.min()&&i[i.length-1]===this.max())return this.setBounds(i),this.setRanges(),this.method="manual classification ("+(i.length-1)+" classes)",this.bounds;if(!this.silent)throw new TypeError("Given bounds may not be correct! please check your input.\nMin value : "+this.min()+" / Max value : "+this.max());this.log("[silent mode] "+t("Given bounds may not be correct! please check your input.\nMin value : "+this.min()+" / Max value : "+this.max()),!0)}},this.getClassEqInterval=function(t,s,e){if(!this._nodata()){s=void 0===s?this.min():s,e=void 0===e?this.max():e;var n=[],o=s;for(s=(e-s)/t,i=0;i<=t;i++)n[i]=o,o+=s;return n[t]=e,this.setBounds(n),this.setRanges(),this.method="eq. intervals ("+t+" classes)",this.bounds}},this.getQuantiles=function(t){for(var i=this.sorted(),s=[],e=this.pop()/t,n=1;n<t;n++)s.push(i[Math.round(n*e+.49)-1]);return s},this.getClassQuantile=function(t){if(!this._nodata()){var i=this.sorted(),s=this.getQuantiles(t);return s.unshift(i[0]),s[i.length-1]!==i[i.length-1]&&s.push(i[i.length-1]),this.setBounds(s),this.setRanges(),this.method="quantile ("+t+" classes)",this.bounds}},this.getClassStdDeviation=function(t,s){if(!this._nodata()){var e=this.max(),n=this.min(),o=this.stddev(),a=this.mean(),r=[];if(1==t%2){var h=Math.floor(t/2),l=h+1;for(r[h]=a-o/2,r[l]=a+o/2,i=h-1;0<i;i--)a=r[i+1]-o,r[i]=a;i=l+1}else{for(l=t/2,r[l]=a,i=l-1;0<i;i--)a=r[i+1]-o,r[i]=a;i=l+1}for(;i<t;i++)a=r[i-1]+o,r[i]=a;return r[0]=void 0===s?r[1]-o:n,r[t]=void 0===s?r[t-1]+o:e,this.setBounds(r),this.setRanges(),this.method="std deviation ("+t+" classes)",this.bounds}},this.getClassGeometricProgression=function(t){if(!this._nodata()){if(!this._hasNegativeValue()&&!this._hasZeroValue()){var s=[],e=this.min(),n=this.max();for(e=Math.log(e)/Math.LN10,n=(Math.log(n)/Math.LN10-e)/t,i=0;i<t;i++)s[i]=0==i?e:s[i-1]+n;return s=s.map(function(t){return Math.pow(10,t)}),s.push(this.max()),this.setBounds(s),this.setRanges(),this.method="geometric progression ("+t+" classes)",this.bounds}if(!this.silent)throw new TypeError("geometric progression can't be applied with a serie containing negative or zero values.");this.log("[silent mode] geometric progression can't be applied with a serie containing negative or zero values.",!0)}},this.getClassArithmeticProgression=function(t){if(!this._nodata()){var s=0;for(i=1;i<=t;i++)s+=i;var e=[],n=this.min();for(s=(this.max()-n)/s,i=0;i<=t;i++)e[i]=0==i?n:e[i-1]+i*s;return this.setBounds(e),this.setRanges(),this.method="arithmetic progression ("+t+" classes)",this.bounds}},this.getClassJenks=function(t){if(!this._nodata()){dataList=this.sorted();for(var i=[],s=0,e=dataList.length+1;s<e;s++){for(var n=[],o=0,a=t+1;o<a;o++)n.push(0);i.push(n)}for(s=[],e=0,n=dataList.length+1;e<n;e++){o=[],a=0;for(var r=t+1;a<r;a++)o.push(0);s.push(o)}for(e=1,n=t+1;e<n;e++){i[0][e]=1,s[0][e]=0;var h=1;for(o=dataList.length+1;h<o;h++)s[h][e]=1/0;h=0}for(e=2,n=dataList.length+1;e<n;e++){r=a=o=0;for(var l=1,u=e+1;l<u;l++){var d=e-l+1;h=parseFloat(dataList[d-1]),a+=h*h,o+=h,r+=1,h=a-o*o/r;var c=d-1;if(0!=c)for(var g=2,f=t+1;g<f;g++)s[e][g]>=h+s[c][g-1]&&(i[e][g]=d,s[e][g]=h+s[c][g-1])}i[e][1]=1,s[e][1]=h}for(h=dataList.length,s=[],e=0;e<=t;e++)s.push(0);for(s[t]=parseFloat(dataList[dataList.length-1]),s[0]=parseFloat(dataList[0]),e=t;2<=e;)n=parseInt(i[h][e]-2),s[e-1]=dataList[n],h=parseInt(i[h][e]-1),--e;return s[0]==s[1]&&(s[0]=0),this.setBounds(s),this.setRanges(),this.method="Jenks ("+t+" classes)",this.bounds}},this.getClassUniqueValues=function(){if(!this._nodata()){this.is_uniqueValues=!0;var t=this.sorted(),s=[];for(i=0;i<this.pop();i++)-1===s.indexOf(t[i])&&s.push(t[i]);return this.bounds=s,this.method="unique values",s}},this.getClass=function(t){for(i=0;i<this.bounds.length;i++)if(1==this.is_uniqueValues){if(t==this.bounds[i])return i}else if(parseFloat(t)<=this.bounds[i+1])return i;return"Unable to get value's class."},this.getRanges=function(){return this.ranges},this.getRangeNum=function(t){var i;for(i=0;i<this.ranges.length;i++){var s=this.ranges[i].split(/ - /);if(t<=parseFloat(s[1]))return i}},this.getInnerRanges=function(){if(null!=this.inner_ranges)return this.inner_ranges;var t=[],s=this.sorted(),e=1;for(i=0;i<s.length;i++){if(0==i)var n=s[i];if(parseFloat(s[i])>parseFloat(this.bounds[e])&&(t[e-1]=""+n+this.separator+s[i-1],n=s[i],e++),e==this.bounds.length-1)return t[e-1]=""+n+this.separator+s[s.length-1],this.inner_ranges=t}},this.getSortedlist=function(){return this.sorted().join(", ")},this.getHtmlLegend=function(t,e,n,o,a,r){var h="",l=[];if(this.doCount(),ccolors=null!=t?t:this.colors,lg=null!=e?e:"Legend",getcounter=null!=n,fn=null!=o?o:function(t){return t},null==a&&(a="default"),"discontinuous"==a&&(this.getInnerRanges(),-1!==this.counter.indexOf(0))){if(!this.silent)throw new TypeError("Geostats cannot apply 'discontinuous' mode to the getHtmlLegend() method because some classes are not populated.\nPlease switch to 'default' or 'distinct' modes. Exit!");return void this.log("[silent mode] Geostats cannot apply 'discontinuous' mode to the getHtmlLegend() method because some classes are not populated.\nPlease switch to 'default' or 'distinct' modes. Exit!",!0)}if("DESC"!==r&&(r="ASC"),!(ccolors.length<this.ranges.length)){if(0==this.is_uniqueValues)for(i=0;i<this.ranges.length;i++)!0===getcounter&&(h=' <span class="geostats-legend-counter">('+this.counter[i]+")</span>"),e=this.ranges[i].split(this.separator),t=parseFloat(e[0]).toFixed(this.precision),e=parseFloat(e[1]).toFixed(this.precision),"distinct"==a&&0!=i&&(s(t)?(t=parseInt(t)+1,"manual"==this.precisionflag&&0!=this.precision&&(t=parseFloat(t).toFixed(this.precision))):(t=parseFloat(t)+1/Math.pow(10,this.precision),t=parseFloat(t).toFixed(this.precision))),"discontinuous"==a&&(e=this.inner_ranges[i].split(this.separator),t=parseFloat(e[0]).toFixed(this.precision),e=parseFloat(e[1]).toFixed(this.precision)),t=fn(t)+this.legendSeparator+fn(e),t='<div><div class="geostats-legend-block" style="background-color:'+ccolors[i]+'"></div> '+t+h+"</div>",l.push(t);else for(i=0;i<this.bounds.length;i++)!0===getcounter&&(h=' <span class="geostats-legend-counter">('+this.counter[i]+")</span>"),t=fn(this.bounds[i]),t='<div><div class="geostats-legend-block" style="background-color:'+ccolors[i]+'"></div> '+t+h+"</div>",l.push(t);for("DESC"===r&&l.reverse(),a='<div class="geostats-legend"><div class="geostats-legend-title">'+lg+"</div>",i=0;i<l.length;i++)a+=l[i];return a+"</div>"}if(!this.silent)throw new TypeError("The number of colors should fit the number of ranges. Exit!");this.log("[silent mode] The number of colors should fit the number of ranges. Exit!",!0)},this.objectID=(new Date).getUTCMilliseconds(),this.log("Creating new geostats object"),void 0!==e&&0<e.length?(this.serie=e,this.setPrecision(),this.log("Setting serie ("+e.length+") : "+e.join())):this.serie=[],this.getJenks=this.getClassJenks,this.getGeometricProgression=this.getClassGeometricProgression,this.getEqInterval=this.getClassEqInterval,this.getQuantile=this.getClassQuantile,this.getStdDeviation=this.getClassStdDeviation,this.getUniqueValues=this.getClassUniqueValues,this.getArithmeticProgression=this.getClassArithmeticProgression}});
},{}],28:[function(_dereq_,module,exports){
function isBuffer(f){return!!f.constructor&&"function"==typeof f.constructor.isBuffer&&f.constructor.isBuffer(f)}function isSlowBuffer(f){return"function"==typeof f.readFloatLE&&"function"==typeof f.slice&&isBuffer(f.slice(0,0))}module.exports=function(f){return null!=f&&(isBuffer(f)||isSlowBuffer(f)||!!f._isBuffer)};
},{}],29:[function(_dereq_,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],30:[function(_dereq_,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_chromaJs=_dereq_("chroma-js"),_chromaJs2=_interopRequireDefault(_chromaJs),_utilsStatics=_dereq_("../geo/utilsStatics"),_utilsStatics2=_interopRequireDefault(_utilsStatics),Colorizator=function(){function e(){_classCallCheck(this,e),this.palettes=["OrRd","BuGn","BuPu","GnBu","PuBu","PuBuGn","PuRd","RdPu","YlGn","YlGnBu","YlOrBr","YlOrRd","BrBG","PRGn","PuOr","RdGy","RdYlBu","RdYlGn"],this.maxBrewerPalettes=this.palettes.length-1,this.maxRangsColor=9,this.defaultNumber=5,this.Utils=new _utilsStatics2.default}return _createClass(e,[{key:"getRandomColorFromArray",value:function(){var e=["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF","#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF","#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE","#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD","#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5","#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B","#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842","#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"];return e[Math.floor(Math.random()*e.length)]}},{key:"getRandomColor",value:function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}},{key:"getRandomColorsFromNum",value:function(e){for(var t=[],r=0;r<e;r++)t.push(this.getRandomColor());return t}},{key:"getOppositeGrayScaleColor",value:function(e){var t=(0,_chromaJs2.default)(e).luminance(),r=parseFloat(1-t),a=(0,_chromaJs2.default)("white").luminance(.7*r).hex();return r<.86?a="rgba(0,0,0,0.8)":r>.87&&(a="rgba(250,250,250,0.8)"),a}},{key:"getColorArrayfromPositionBrewer",value:function(e,t){return _chromaJs2.default.brewer[this.palettes[this._checkBrewerPosition(t)]].slice(-this._checkNumRangs(e))}},{key:"getColorsScaleRanges",value:function(e,t,r){return null===t||null===r?this.getRandomColorsFromNum(e):_chromaJs2.default.scale([t,r]).mode("lch").colors(e)}},{key:"_checkNumRangs",value:function(e){return"number"==typeof e?e>this.maxRangsColor?this.maxRangsColor:e:this.defaultNumber}},{key:"_checkBrewerPosition",value:function(e){return"number"==typeof e?e>this.maxBrewerPalettes?this.maxBrewerPalettes:e:this.defaultNumber}},{key:"_checkBrewerName",value:function(e){return-1!==this.palettes.indexOf(e)?e:this.palettes[Math.floor(Math.random()*this.maxBrewerPalettes)]}},{key:"getColorArrayfromSelectedBrewer",value:function(e,t){return _chromaJs2.default.brewer[this._checkBrewerName(t)].slice(-this._checkNumRangs(e))}},{key:"convertRGBtoHex",value:function(e){return(0,_chromaJs2.default)(e).hex()}},{key:"generateHTMLBrewerPalettes",value:function(e,t){var r=this,a=-15,o="",s=[],l="";return this.palettes.slice(0,this._checkBrewerPosition(e)).forEach(function(e,i){_chromaJs2.default.brewer[e]&&(s=_chromaJs2.default.brewer[e].slice(-r._checkNumRangs(t+1)),l=0===i?"selected":"",o=o+'<div id="'+e+'" class="ramp '+e+" "+l+'"><svg width="15" height="75">',a=-15,s.forEach(function(e){a+=15,o=o+'<rect fill="'+e+'" width="15" height="15" y="'+a+'"></rect>'}),o+="</svg></div>")}),o}},{key:"generateHTMLLegendColor",value:function(e,t,r,a){for(var o=a||"legend_class",s='<div class="'+o+'"> <h5>'+r+"</h5>",l=e.length,i=parseInt(100/l),n=0;n<l;n++){var u=t[n],c="",h="";if("string"==typeof u&&-1!==u.indexOf("-")?(c=u.split("-"),h=this.Utils.converToNumberIfPossible(c[0].trim(),0),s=s+'<div style="float:left;width:'+i+'%" class="w-15"><div style="font-size:0.85em">'+h):s=!isNaN(parseInt(u))&&l<this.maxRangsColor?s+'<div style="float:left;width:'+i+'%" class="w-15"><div style="font-size:0.85em">'+u:s+'<div class="uniqueValues"  class="w-15"><div style="font-size:0.85em">'+u,n===l-1){var f=t[n+1];f&&void 0!==f||(f=""),"number"==typeof f&&(f=f.toFixed(1)),s=s+'<span style="float: right;font-size:0.85em">'+f+"</span>"}s+="</div>",s=s+'<div style="width:100%;height:20px;border:1px solid white;background-color:'+e[n]+'"></div></div> '}return s+="</div>"}}]),e}();exports.default=Colorizator;
},{"../geo/utilsStatics":40,"chroma-js":26}],31:[function(_dereq_,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,s){for(var e=0;e<s.length;e++){var i=s[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(s,e,i){return e&&t(s.prototype,e),i&&t(s,i),s}}(),_bridgeStatics=_dereq_("./bridgeStatics"),_bridgeStatics2=_interopRequireDefault(_bridgeStatics),_utilsStatics=_dereq_("./utilsStatics"),_utilsStatics2=_interopRequireDefault(_utilsStatics),ArrayStatics=function(){function t(s){if(_classCallCheck(this,t),this.arrayColumn=s,this.bridgeStatics=null,this.stats={},this.utilsStatistis=new _utilsStatics2.default,null===this.arrayColumn||!Array.isArray(this.arrayColumn))throw new Error("No options provided:arrayColumn needed");this.bridgeStatics=new _bridgeStatics2.default(this.utilsStatistis.checkArrayValues(this.arrayColumn))}return _createClass(t,[{key:"getUniqueValues",value:function(){return this.bridgeStatics.getClassUniqueValues()}},{key:"getBasicsStats",value:function(t){return this.stats={basics:this.bridgeStatics.getBasicsStats(t)},this.stats}},{key:"getStatsFromRangesColorsArray",value:function(t,s){if("number"==typeof t&&Array.isArray(s))return this.stats={classification:this.bridgeStatics.setClassificationStats(t),colors:this.bridgeStatics.setColorstoStats(s),basics:this.bridgeStatics.getBasicsStats()},this.stats;throw new Error("Invalid parameters provided: numRanges or arrayColors")}}]),t}();exports.default=ArrayStatics;
},{"./bridgeStatics":32,"./utilsStatics":40}],32:[function(_dereq_,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,s){for(var e=0;e<s.length;e++){var i=s[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(s,e,i){return e&&t(s.prototype,e),i&&t(s,i),s}}(),_geostats=_dereq_("geostats"),_geostats2=_interopRequireDefault(_geostats),BridgeStatics=function(){function t(s){if(_classCallCheck(this,t),!s)throw new Error("Invalid array provided");this.geoStats=new _geostats2.default(s),this.stats={},this.geoStats.setPrecision(1),this.geoStats.silent=!0}return _createClass(t,[{key:"getClassUniqueValues",value:function(){return this.geoStats.getClassUniqueValues()}},{key:"setColorstoStats",value:function(t){return this.geoStats.setColors(t),this.stats.colors={colors:this.geoStats.colors},this.stats.colors}},{key:"getValueFromRangePosition",value:function(t){return this.geoStats.getRangeNum(t)}},{key:"setClassificationStats",value:function(t){this.stats.classification={quantile:this.geoStats.getQuantile(t),equals:this.geoStats.getEqInterval(t),uniques:this.geoStats.getClassUniqueValues(),ranges:this.geoStats.getRanges(),list:this.geoStats.getSortedlist()};try{this.stats.classification.jenks=this.geoStats.getJenks(t)}catch(s){this.stats.classification.jenks=this.geoStats.getQuantile(t)}return this.stats.classification}},{key:"isValid",value:function(t,s){return"number"!=typeof t||Number.isNaN(t)?t:parseFloat(t.toFixed(s))}},{key:"getBasicsStats",value:function(t){var s=1;return"number"==typeof t&&(s=parseInt(t)),this.stats.basics={min:this.isValid(this.geoStats.min(),s),max:this.isValid(this.geoStats.max(),s),sum:this.isValid(this.geoStats.sum(),s),pop:this.isValid(this.geoStats.pop(),s),mean:this.isValid(this.geoStats.mean(),s),median:this.isValid(this.geoStats.median(),s),stddev:this.isValid(this.geoStats.stddev(),s),cov:this.isValid(this.geoStats.cov(),s),diff:this.isValid(this.geoStats.max()-this.geoStats.min(),s)},this.stats.basics}}]),t}();exports.default=BridgeStatics;
},{"geostats":27}],33:[function(_dereq_,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),_bridgeStatics=_dereq_("./bridgeStatics"),_bridgeStatics2=_interopRequireDefault(_bridgeStatics),_utilsStatics=_dereq_("./utilsStatics"),_utilsStatics2=_interopRequireDefault(_utilsStatics),CSVStatics=function(){function t(e,i){if(_classCallCheck(this,t),this.numCSVColumn=i,this.arrayCSV=e,this.bridgeStatics=null,this.stats={},this.utilsStatistis=new _utilsStatics2.default,null===this.numCSVColumn||!Array.isArray(this.arrayCSV))throw new Error("No options provided: arrayCSV data and numCSVColumn");this.bridgeStatics=new _bridgeStatics2.default(this.getColumFromCSV(this.numCSVColumn,this.arrayCSV))}return _createClass(t,[{key:"getUniqueValues",value:function(){return this.bridgeStatics.getClassUniqueValues()}},{key:"getStatsFromRangesColorsCSV",value:function(t,e){if("number"==typeof t&&Array.isArray(e))return this.stats={classification:this.bridgeStatics.setClassificationStats(t),colors:this.bridgeStatics.setColorstoStats(e),basics:this.bridgeStatics.getBasicsStats()},this.stats;throw new Error("Invalid parameters provided: numRanges or arrayColors")}},{key:"getColumFromCSV",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];if("number"==typeof t&&Array.isArray(e)){for(var s=0;s<e.length;s++)if(s>0){var a=e[s][t];this.utilsStatistis.checkIfExistsValue(a)&&(i?r.push(this.utilsStatistis.forceToNumber(a)):r.push(a))}return r}throw new Error("Invalid parameters provided: dataCSV AND numColum")}}]),t}();exports.default=CSVStatics;
},{"./bridgeStatics":32,"./utilsStatics":40}],34:[function(_dereq_,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),_bridgeStatics=_dereq_("./bridgeStatics"),_bridgeStatics2=_interopRequireDefault(_bridgeStatics),_utilsStatics=_dereq_("./utilsStatics"),_utilsStatics2=_interopRequireDefault(_utilsStatics),GeoJSONStatistics=function(){function t(e,i){if(_classCallCheck(this,t),this.geoJSON=e||null,this.keyField=i||null,this.bridgeStatics=null,this.stats={},this.Utils=new _utilsStatics2.default,this.geomType=null,this.maxFetauresToCount=5e3,null===this.geoJSON||"object"!==_typeof(this.geoJSON)||null===this.keyField)throw new Error("Invalid parameters provided: geoJSON AND keyField");this.bridgeStatics=new _bridgeStatics2.default(this.getColumnFromGEOJSON(this.keyField,this.geoJSON))}return _createClass(t,[{key:"getUniqueValues",value:function(){return this.bridgeStatics.getClassUniqueValues()}},{key:"getStatsFromRangesColorsGeoJSON",value:function(t,e){if("number"==typeof t&&Array.isArray(e))return this.stats={classification:this.bridgeStatics.setClassificationStats(t),colors:this.bridgeStatics.setColorstoStats(e),basics:this.bridgeStatics.getBasicsStats()},this.stats;throw new Error("Invalid parameters provided: numRanges or arrayColors")}},{key:"getColumnFromGEOJSON",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[],s=0;if(null!==this.geoJSON&&"object"===_typeof(this.geoJSON)&&null!==this.keyField){var o=this.Utils.checkType(this.geoJSON.features[0].properties[t]);for(var a in e.features){if(s<this.maxFetauresToCount){var n=e.features[a];this.Utils.checkIfExistsValue(n.properties[t])&&(i?r.push(this.Utils.forceToNumber(n.properties[t])):i||"string"!==o||isNaN(parseInt(n.properties[t]))?r.push(n.properties[t]):r.push("# "+n.properties[t].toString()))}s+=1}return r}throw new Error("Invalid parameters provided: geoJSON AND keyField")}},{key:"_getColumFromGEOJSONFilter",value:function(t,e,i,r){var s=[];for(var o in e.features){var a=e.features[o];this.Utils.checkIfExistsValue(a.properties[t])&&a.properties[i]<r&&s.push(a.properties[t])}return s}}]),t}();exports.default=GeoJSONStatistics;
},{"./bridgeStatics":32,"./utilsStatics":40}],35:[function(_dereq_,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),LatLon=function(){function t(e,n){if(_classCallCheck(this,t),!!(isNaN(e)||isNaN(n)))throw new Error("Invalid LatLon object: ("+e+", "+n+")");if(this.lat=+e,this.lon=+n,!(this.lat>-90&&this.lat<90&&this.lon>-180&&this.lon<180))throw new Error("Invalid LatLon value: Latitude must be between -90 and 90 and Longitude must be between -180 and 180")}return _createClass(t,[{key:"setLatitude",value:function(t){return this.lat=t,this}},{key:"setLongitude",value:function(t){return this.lon=t,this}},{key:"toString",value:function(){return"LatLon("+this.lat+", "+this.lon+")"}}]),t}();exports.default=LatLon;
},{}],36:[function(_dereq_,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_latlon=_dereq_("./latlon"),_latlon2=_interopRequireDefault(_latlon),LatLonBounds=function(){function e(t,n){_classCallCheck(this,e),this.setNorthEastCorner(n),this.setSouthWestCorner(t)}return _createClass(e,[{key:"setNorthEastCorner",value:function(e){return this.ne=e,this}},{key:"setSouthWestCorner",value:function(e){return this.sw=e,this}},{key:"getCenter",value:function(){return new _latlon2.default((this.sw.lat+this.ne.lat)/2,(this.sw.lon+this.ne.lon)/2)}},{key:"getSouthWest",value:function(){return this.sw}},{key:"getNorthEast",value:function(){return this.ne}}]),e}();exports.default=LatLonBounds;
},{"./latlon":35}],37:[function(_dereq_,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Map=function(){function e(t){_classCallCheck(this,e),this.options=t,this.isInitialized=!1,this.isLoaded=!1}return _createClass(e,[{key:"create",value:function(){var e=this;return new Promise(function(t,n){""!==e.options.container?e.mapCreate(t,n):n(new Error("Container id not set"))})}},{key:"mapCreate",value:function(e,t){throw new Error("Map::mapCreate function must be implemented by its subclasses")}},{key:"mapHasLoaded",value:function(){this.isLoaded=!0}},{key:"remove",value:function(){this.isInitialized&&this.mapRemove()}},{key:"mapRemove",value:function(){throw new Error("Map::removeMap function must be implemented by its subclasses")}},{key:"setOptions",value:function(e){this.options=e}},{key:"setData",value:function(e){if(!this.isLoaded)throw new Error("Map not yet loaded");this.removeMapData(),this.addMapData(e)}},{key:"addData",value:function(e){if(!this.isLoaded)throw new Error("Map not yet loaded");this.addMapData(e)}},{key:"addMapData",value:function(e){throw new Error("Map::addMapData function must be implemented by its subclasses")}},{key:"removeMapData",value:function(){throw new Error("Map::removeMapData function must be implemented by its subclasses")}},{key:"subscribe",value:function(e,t,n){throw new Error("Map::subscribe function must be implemented by its subclasses")}},{key:"addControlMap",value:function(e,t){throw new Error("Map::addControl function must be implemented by its subclasses")}},{key:"fitBounds",value:function(e){throw new Error("Map::fitBounds function must be implemented by its subclasses")}},{key:"getZoom",value:function(){throw new Error("Map::getZoom function must be implemented by its subclasses")}},{key:"easeTo",value:function(e){throw new Error("Map::easeTo function must be implemented by its subclasses")}},{key:"getPaintProperty",value:function(e,t){throw new Error("Map::getPaintProperty function must be implemented by its subclasses")}},{key:"getStyle",value:function(){throw new Error("Map::getStyle function must be implemented by its subclasses")}},{key:"getMap",value:function(){return this.map}}]),e}();exports.default=Map;
},{}],38:[function(_dereq_,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function a(n,o){try{var i=t[n](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}return a("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_get=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,a)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(a)},_map=_dereq_("./map.js"),_map2=_interopRequireDefault(_map),MapboxMap=function(e){function t(e,r,a){_classCallCheck(this,t);var n={container:"",style:"https://tilemaps.icgc.cat/tileserver/styles/water.json",center:[1.60859,41.7554],zoom:6},o=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign(n,a)));return o.apiKey=r||"",o.layerIds={},o.sourceIds={},o.mapboxObject=e,o}return _inherits(t,e),_createClass(t,[{key:"mapCreate",value:function(e){var r=this;this.mapboxObject.accessToken=this.apiKey,this.map=new this.mapboxObject.Map(this.options),this.isInitialized=!0,this.map.on("load",function(){_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mapHasLoaded",r).call(r),e()})}},{key:"mapRemove",value:function(){this.map.remove()}},{key:"addMapData",value:function(e){var t=this;e.sources.forEach(function(e){t.map.addSource(e.name,e.data),t.sourceIds[e.name]=""}),e.layers.forEach(function(e){t.map.addLayer(e),t.layerIds[e.id]=""})}},{key:"removeMapData",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.removeDataArray(Object.keys(this.layerIds),this.map.removeLayer);case 2:return this.layerIds={},e.next=5,this.removeDataArray(Object.keys(this.sourceIds),this.map.removeSource);case 5:this.sourceIds={};case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"removeDataArray",value:function(e,t){return new Promise(function(r){var a=!0,n=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(a=(i=u.next()).done);a=!0){var s=i.value;t(s)}}catch(e){n=!0,o=e}finally{try{!a&&u.return&&u.return()}finally{if(n)throw o}}r()})}},{key:"hasSourceName",value:function(e){return!!this.sourceIds[e]}},{key:"hasLayerID",value:function(e){return!!this.layerIds[e]}},{key:"getStyle",value:function(){return this.map.getStyle()}},{key:"getPaintProperty",value:function(e,t){return this.map.getPaintProperty(e,t)}},{key:"setMapBaseLayer",value:function(e){var t=this;return new Promise(function(r){t.map.setStyle(e),t.map.on("styledata",function(e){t.layerIds={},t.sourceIds={},"style"===e.dataType&&r()})})}},{key:"fitBBOX",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[[e[0],e[1]],[e[2],e[3]]];this.map.fitBounds(r,{pitch:t})}},{key:"fitBounds",value:function(e){this.map.fitBounds(e)}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getBearing",value:function(){return this.map.getBearing()}},{key:"getBounds",value:function(){return this.map.getBounds()}},{key:"getCenter",value:function(){return this.map.getCenter()}},{key:"easeTo",value:function(e){this.map.easeTo(e)}},{key:"getLayer",value:function(e){return this.map.getLayer(e)}},{key:"setCursorPointer",value:function(e){this.map.getCanvas().style.cursor=e}},{key:"removeLayer",value:function(e){this.map.getLayer(e)&&this.map.removeLayer(e)}},{key:"removeSource",value:function(e){this.map.getSource(e)&&this.map.removeSource(e)}},{key:"addSource",value:function(e,t){this.map.addSource(e,t)}},{key:"addLayer",value:function(e,t){this.map.addLayer(e,t)}},{key:"setPaintProperty",value:function(e,t,r){this.map.getPaintProperty(e,t)&&this.map.setPaintProperty(e,t,r)}},{key:"setLayoutProperty",value:function(e,t,r){this.map.getLayoutProperty(e,t)&&this.map.setLayoutProperty(e,t,r)}},{key:"setFilter",value:function(e,t){this.map.setFilter(e,t)}},{key:"getFilter",value:function(e){return this.map.getFilter(e)}},{key:"updateLayer",value:function(e){this.map.getLayer(e.id)?(this.map.removeLayer(e.id),this.map.addLayer(e)):this.map.addLayer(e)}},{key:"setAPIKey",value:function(e){this.apiKey=e}},{key:"subscribe",value:function(e,t,r){""!==t.trim()?this.map.on(e,t,function(e){return r(e,t)}):this.map.on(e,function(e){return r(e)})}},{key:"addControlMap",value:function(e,t){this.map.addControl(e,t)}},{key:"queryRenderedFeatures",value:function(e,t){return this.map.queryRenderedFeatures(e,{layers:[t]})}},{key:"setCursor",value:function(e){this.map.getCanvas().style.cursor=e}}]),t}(_map2.default);exports.default=MapboxMap;
},{"./map.js":37}],39:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var StyleURL={ICGC:"https://geoserveis.icgc.cat/contextmaps/icgc.json",OSMBright:"https://geoserveis.icgc.cat/contextmaps/osm-bright.json",Positron:"https://geoserveis.icgc.cat/contextmaps/positron.json",Hybrid:"https://geoserveis.icgc.cat/contextmaps/hibrid.json",Dark:"https://geoserveis.icgc.cat/contextmaps/fulldark.json",Night:"https://geoserveis.icgc.cat/contextmaps/night.json",Clar:"https://tilemaps.icgc.cat/tileserver/styles/clar.json",Orto:"https://tilemaps.icgc.cat/tileserver/styles/orto.json",Terreny:"https://tilemaps.icgc.cat/tileserver/styles/terrain.json",Fosc:"https://tilemaps.icgc.cat/tileserver/styles/fosc.json","Blavós":"https://tilemaps.icgc.cat/tileserver/styles/blavos.json",Gris:"https://tilemaps.icgc.cat/tileserver/styles/gris.json",ICGC5M:"https://tilemaps.icgc.cat/tileserver/styles/icgc5mv2.json",ICGC5MRelleu:"https://tilemaps.icgc.cat/tileserver/styles/icgc5m.json",ICGC25M:"https://tilemaps.icgc.cat/tileserver/styles/icgc25m.json",Polit:"https://tilemaps.icgc.cat/tileserver/styles/polit.json",Raster:"https://tilemaps.icgc.cat/tileserver/styles/raster.json"};exports.default=StyleURL;
},{}],40:[function(_dereq_,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),UtilsStatics=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"forceToNumber",value:function(e){return isNaN(parseFloat(e))||"string"!=typeof e?"number"==typeof e&&"undefined"!==e||(e=-100):(e=e.replace(",","."),e=parseFloat(e)),e}},{key:"checkArrayValues",value:function(e){for(var t=[],n=0;n<e.length;n++)this.checkIfExistsValue(e[n])&&t.push(e[n]);return t}},{key:"converToNumberIfPossible",value:function(e,t){var n=t||0,r=e;return isNaN(parseFloat(e))||"string"!=typeof e?"number"==typeof e&&"undefined"!==e||(r=e):(r=e.replace(",","."),r=parseFloat(e).toFixed(n)),r}},{key:"checkType",value:function(e){return void 0===e?"undefined":_typeof(e)}},{key:"checkIfExistsValue",value:function(e){return void 0!==e&&null!==e&&"null"!==e&&""!==e}}]),e}();exports.default=UtilsStatics;
},{}],41:[function(_dereq_,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UtilsStatics=exports.GeoJSONStatics=exports.CsvStatics=exports.BridgeStatics=exports.ArrayStatics=exports.Colorizator=exports.Utils=exports.StyleURL=exports.Request=exports.MapboxMap=exports.Map=exports.LatLonBounds=exports.LatLon=void 0;var _latlon=_dereq_("./geo/latlon"),_latlon2=_interopRequireDefault(_latlon),_latlonBounds=_dereq_("./geo/latlonBounds"),_latlonBounds2=_interopRequireDefault(_latlonBounds),_map=_dereq_("./geo/map"),_map2=_interopRequireDefault(_map),_mapboxMap=_dereq_("./geo/mapboxMap"),_mapboxMap2=_interopRequireDefault(_mapboxMap),_request=_dereq_("./request"),_request2=_interopRequireDefault(_request),_styleURL=_dereq_("./geo/styleURL"),_styleURL2=_interopRequireDefault(_styleURL),_utils=_dereq_("./utils"),_utils2=_interopRequireDefault(_utils),_colorizator=_dereq_("./color/colorizator"),_colorizator2=_interopRequireDefault(_colorizator),_arrayStatics=_dereq_("./geo/arrayStatics"),_arrayStatics2=_interopRequireDefault(_arrayStatics),_bridgeStatics=_dereq_("./geo/bridgeStatics"),_bridgeStatics2=_interopRequireDefault(_bridgeStatics),_csvStatics=_dereq_("./geo/csvStatics"),_csvStatics2=_interopRequireDefault(_csvStatics),_geoJSONStatics=_dereq_("./geo/geoJSONStatics"),_geoJSONStatics2=_interopRequireDefault(_geoJSONStatics),_utilsStatics=_dereq_("./geo/utilsStatics"),_utilsStatics2=_interopRequireDefault(_utilsStatics);exports.LatLon=_latlon2.default,exports.LatLonBounds=_latlonBounds2.default,exports.Map=_map2.default,exports.MapboxMap=_mapboxMap2.default,exports.Request=_request2.default,exports.StyleURL=_styleURL2.default,exports.Utils=_utils2.default,exports.Colorizator=_colorizator2.default,exports.ArrayStatics=_arrayStatics2.default,exports.BridgeStatics=_bridgeStatics2.default,exports.CsvStatics=_csvStatics2.default,exports.GeoJSONStatics=_geoJSONStatics2.default,exports.UtilsStatics=_utilsStatics2.default;
},{"./color/colorizator":30,"./geo/arrayStatics":31,"./geo/bridgeStatics":32,"./geo/csvStatics":33,"./geo/geoJSONStatics":34,"./geo/latlon":35,"./geo/latlonBounds":36,"./geo/map":37,"./geo/mapboxMap":38,"./geo/styleURL":39,"./geo/utilsStatics":40,"./request":42,"./utils":43}],42:[function(_dereq_,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),_axios=_dereq_("axios"),_axios2=_interopRequireDefault(_axios),Request=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"processResponse",value:function(e,n,t){if(200===e.status){var r=e.data;!1===r.ok?t(r.message):n(r)}else t(e.status)}},{key:"processError",value:function(e,n){n(e.message)}},{key:"get",value:function(n){return new Promise(function(t,r){_axios2.default.get(n).then(function(n){return e.processResponse(n,t,r)}).catch(function(n){return e.processError(n,r)})})}},{key:"delete",value:function(n){return new Promise(function(t,r){_axios2.default.delete(n).then(function(n){return e.processResponse(n,t,r)}).catch(function(n){return e.processError(n,r)})})}},{key:"post",value:function(n,t){return new Promise(function(r,o){_axios2.default.post(n,t).then(function(n){return e.processResponse(n,r,o)}).catch(function(n){return e.processError(n,o)})})}},{key:"put",value:function(n,t){return new Promise(function(r,o){_axios2.default.put(n,t).then(function(n){return e.processResponse(n,r,o)}).catch(function(n){return e.processError(n,o)})})}}]),e}();exports.default=Request;
},{"axios":1}],43:[function(_dereq_,module,exports){
"use strict";function _toConsumableArray(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function r(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),Utils=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"removeItem",value:function(r,e){var t=[].concat(_toConsumableArray(r));return t.splice(e-1,1),t}},{key:"invertColor",value:function(r){var e=r;return e=e.substring(1),e=parseInt(e,16),e^=16777215,e=e.toString(16),e=("000000"+e).slice(-6),e="#"+e}},{key:"setDifference",value:function(r,e){var t=new Set(r),n=!0,a=!1,o=void 0;try{for(var l,u=e[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var i=l.value;t.delete(i)}}catch(r){a=!0,o=r}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return t}},{key:"arrayDifference",value:function(r,e){var t=new Set(r),n=!0,a=!1,o=void 0;try{for(var l,u=e[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var i=l.value;t.delete(i)}}catch(r){a=!0,o=r}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return[].concat(_toConsumableArray(t))}}]),r}();exports.default=Utils;
},{}]},{},[41])(41)
});


//# sourceMappingURL=ICGCCommon.js.map